---
import MainLayout from '@/layouts/main-layout.astro';
import TeamSlot from '@/components/team-slot.astro';
---

<MainLayout>
	<main
		class='w-full h-full pt-[25%] flex flex-col place-content-between place-items-center'
	>
		<h2
			class='w-[50vw] font-bebas-neue text-[3.35vw] text-foreground text-center tracking-[-3%] leading-[100%] -translate-y-[50%]'
		>
			“Select <span
				class='inline-flex flex-col place-items-center after:w-[9.75vw] after:h-[0.15vw] after:bg-accent after:-translate-y-[0.25vw] after:shadow-[0_0_1vw_0.05vw_var(--accent)]'
				>Pokémon</span
			> to add to your party. Any slots left empty will be filled in to create a
			strategic team.”
		</h2>
		<div class='flex place-items-end gap-[2.6vw]'>
			<TeamSlot />
			<TeamSlot />
			<TeamSlot />
			<TeamSlot />
			<TeamSlot />
			<TeamSlot />
		</div>
	</main>
</MainLayout>

<script>
	import { $teamSlots } from '@/stores/team';

	const slots = document.querySelectorAll('.team-slot')!;

	$teamSlots.subscribe((value) => {
		slots.forEach((slot, idx) => {
			const img = slot.querySelector('img')!;
			const svg = slot.querySelector('svg')!;

			img.setAttribute('src', value[idx] ? `/${value[idx]}` : '');
			img.setAttribute('alt', value[idx] ?? '');
			svg.style.display = value[idx] ? 'none' : 'block';
		});
	});
</script>
